# Описание жизненного цикла задачи

* Менеджер прорабатывает задачу с клиентом:
    * анализирует потребности клиента
    * составляет и согласует описание задачи, уточняет требования
    * уточняет сроки реализации с командой разработчиков и тестировщиков
    * в итоге составляется четко и однозначно сформулированное ТЗ, согласованное с заказчиком
* Разработчики:
    * декомпозируют ТЗ на свои задачи на разработку
    * выполняют задачи
    * разработка у каждого разработчика ведется в своем индивидуальном окружении, быстро разворачиваемом и единообразном
      с остальными окружениями, также есть возможность быстрого уничтожения окружения
    * на весь новый функционал разработчик пишет автоматические тесты
    * разработка по каждой задаче ведется в отдельной ветке системы контроля версий, в частности в Git
    * каждая отдельная ветка задачи по завершении проходит код-ревью и вливается в общую фича-ветку. При вливании автоматически проходят тесты, если они не проходят - влить ветку невозможно
    * исправляют баги, заведенные тестировщиками при тестировании, дополняют по возможности автотесты на проверку этих багов, аналогично вливают исправления в фича-ветку
* Тестировщики:
  * декомпозируют ТЗ на свои задачи на тестирование
  * проводят ручные тесты при необходимости
  * тестирование ведется в индивидуальных окружениях, аналогично разработке, быстро разворачиваемых и уничтожаемых
  * пишут автоматические тесты для всей системы (end-to-end тесты и т.п.)
  * при нахождении ошибок разработки заводят баги для исправления разработчикам
  * проверяют исправление багов
* Менеджеры в процессе разработки и тестирования:
  * отвечают на возникающие вопросы, если они не проработаны в ТЗ - дополнительно их прорабатывают
  * устраняют спорные моменты
  * Когда все разработано, протестировано и готова фича-ветка - проводят ревью сделанной задачи, что она соответствует требованиям клиента
* Производится релиз и при этом - вливание фича-ветки в релизную или мастер-ветку. Это может делать ответственный за релизы разработчик или тестировщик, в отдельных случаях девопс. Для этого просто запускается автоматический процесс в CI/CD - среде.
* При релизе перед непосредственной выкладкой изменений автоматически прогоняются все автотесты, end-to-end тесты, и если тесты не пройдут - релиз не проводится, заводятся задачи на исправление
* В случае успеха тестов происходит автоматическая выкладка текущей релизной или мастер-ветки в прод, при необходимости автоматически прогоняются миграции БД и пр.
* Менеджер опционально может проверить прод после релиза, что фича корректно заработала, затем отчитывается заказчику о готовности
* Система мониторинга мониторит состояние прода. В случае возникновения аномалий или недоступности рассылает оповещения девопсу и разработчикам
* В случае критических ошибок производится откат прода до состояния перед релизом. Из автоматического бэкапа или иначе, тоже по нажатию кнопки в CI/CD- среде.
* Что в этой схеме делает девопс? При отлаженных процессах - почти ничего:) Его задачи - изначально настроить работу с окружениями, автоматические процессы, CI/CD, мониторинг, чтобы было реализуемо все вышеописанное. Также в его задачи входит реагировать на алерты системы мониторинга, по возможности исправить их причины - исправлять, при невозможности - делегировать разработчикам или ставить вопрос о расширении инфраструктуры при необходимости. Для этого необходимо понимание работы продукта и используемых им технологий. Также, если задача того требует - вносить изменения в devops-инфраструктуру, консультировать разработчиков по особенностям работы с ней, исправлять возникающие ошибки при работе с инфраструктурой.